# 📊 策略对比：main.py vs f3.py

## 🎯 快速对比表

| 项目 | main.py（正常模式） | f3.py（怪异物质模式） |
|------|-------------------|---------------------|
| **主要目标** | 最大化仙人掌/南瓜产量 | 最大化 Weird_Substance 产量 |
| **仙人掌策略** | 排序 + 连锁收获 | 感染 + 直接采收 |
| **南瓜策略** | ID追踪 + 巨型合并 | 感染 + 直接采收 |
| **使用肥料** | ❌ 不使用 | ✅ 大量使用 |
| **感染状态** | ❌ 避免感染 | ✅ 主动感染 |
| **仙人掌产量** | 160,000/次 | 200/轮 |
| **南瓜产量** | 20,736/次 | 216/轮 |
| **Weird_Substance** | 0 | ~416/轮 |
| **采收频率** | 低（需等待） | 高（直接采收） |
| **适用场景** | 常规资源积累 | 迷宫/实验 |

---

## 📈 详细对比

### 仙人掌区策略

#### main.py
```python
策略：排序 + 连锁收获
1. 种植 20×20 = 400 个仙人掌
2. 使用 swap() 排序（右上最大，左下最小）
3. 等待全部变绿（排序完成）
4. 从右上角触发连锁收获
5. 获得 400² = 160,000 仙人掌

优点：
✅ 单次产量极高（160,000）
✅ n² 收益

缺点：
❌ 需要等待排序
❌ 采收频率低
❌ 不产生 Weird_Substance
```

#### f3.py
```python
策略：感染 + 直接采收
1. 种植仙人掌
2. 立即使用肥料感染
3. 成熟后直接采收
4. 获得 0.5 仙人掌 + 0.5 Weird_Substance

优点：
✅ 采收频率高
✅ 产生 Weird_Substance
✅ 不需要排序

缺点：
❌ 单次产量低（1 个）
❌ 失去连锁收获
```

---

### 南瓜区策略

#### main.py
```python
策略：ID追踪 + 巨型合并
1. 种植 12×12 = 144 个南瓜
2. 使用 measure() 追踪 ID
3. 等待连续出现 17 次（确认合并）
4. 采收巨型南瓜
5. 获得 144² = 20,736 南瓜（理想情况）

优点：
✅ 单次产量极高（20,736）
✅ n² 收益

缺点：
❌ 需要等待合并
❌ 采收频率低
❌ 不产生 Weird_Substance
```

#### f3.py
```python
策略：感染 + 直接采收
1. 种植南瓜
2. 立即使用肥料感染
3. 成熟后直接采收
4. 获得 0.5 南瓜 + 0.5 Weird_Substance

优点：
✅ 采收频率高
✅ 产生 Weird_Substance
✅ 不需要等待合并

缺点：
❌ 单次产量低（1 个）
❌ 失去巨型南瓜
```

---

### 向日葵区策略

#### main.py
```python
策略：优先高花瓣
1. 检查花瓣数（measure()）
2. 优先采收 ≥13 花瓣（5x 能量）
3. 提供能量加速（2x 速度）

面积：192 格
```

#### f3.py
```python
策略：相同（优先高花瓣）
1. 检查花瓣数（measure()）
2. 优先采收 ≥13 花瓣（5x 能量）
3. 提供能量加速（2x 速度）

面积：192 格
```

**两者相同** ✅

---

## 💰 产量对比

### 仙人掌

| 模式 | 单次产量 | 采收频率 | 小时产量 | Weird_Substance |
|------|---------|---------|---------|----------------|
| main.py | 160,000 | 低（~1次/小时） | ~160,000 | 0 |
| f3.py | 0.5 | 高（~400次/小时） | ~200 | ~200/小时 |

**总结：**
- main.py：追求极限单次产量
- f3.py：追求持续 Weird_Substance

---

### 南瓜

| 模式 | 单次产量 | 采收频率 | 小时产量 | Weird_Substance |
|------|---------|---------|---------|----------------|
| main.py | 20,736 | 低（~1次/小时） | ~20,736 | 0 |
| f3.py | 0.5 | 高（~432次/小时） | ~216 | ~216/小时 |

**总结：**
- main.py：追求极限单次产量
- f3.py：追求持续 Weird_Substance

---

### Weird_Substance

| 模式 | 仙人掌区 | 南瓜区 | 总计 |
|------|---------|--------|------|
| main.py | 0 | 0 | 0 |
| f3.py | ~200/小时 | ~216/小时 | ~416/小时 |

**总结：**
- main.py：不产生 Weird_Substance
- f3.py：专注于 Weird_Substance 生产

---

## ⚙️ 资源消耗

### 水资源

| 模式 | 消耗量 | 说明 |
|------|--------|------|
| main.py | ~973/轮 | 极限浇水（0.95） |
| f3.py | ~973/轮 | 极限浇水（0.95） |

**相同** ✅

---

### 肥料

| 模式 | 消耗量 | 说明 |
|------|--------|------|
| main.py | 0 | 不使用肥料 |
| f3.py | ~832/轮 | 大量使用（感染） |

**差异巨大** ⚠️

**建议：**
- f3.py 需要升级 `Unlocks.Fertilizer` 到最高等级
- 确保肥料补充速度 ≥ 消耗速度

---

## 🎯 使用建议

### 使用 main.py 的情况

#### 1. 需要大量仙人掌
```
场景：解锁功能、交易、建造
推荐：main.py
产量：160,000/次
```

#### 2. 需要大量南瓜
```
场景：解锁功能、交易、建造
推荐：main.py
产量：20,736/次
```

#### 3. 常规发展
```
场景：平衡发展、资源积累
推荐：main.py
优势：全面、稳定
```

---

### 使用 f3.py 的情况

#### 1. 需要大量 Weird_Substance
```
场景：种植迷宫、实验
推荐：f3.py
产量：~416/小时
```

#### 2. 测试感染机制
```
场景：了解游戏机制
推荐：f3.py
优势：主动感染
```

#### 3. 快速采收
```
场景：需要频繁采收
推荐：f3.py
优势：高频率
```

---

## 🔄 切换策略

### 从 main.py 切换到 f3.py

#### 步骤
```
1. 停止 main.py
2. 等待当前轮次完成
3. 运行 f3.py
4. 观察 Weird_Substance 增长
```

#### 注意
```
⚠️ 仙人掌排序进度会丢失
⚠️ 南瓜 ID 追踪会重置
⚠️ 需要等待植物被感染
```

---

### 从 f3.py 切换到 main.py

#### 步骤
```
1. 停止 f3.py
2. 等待当前轮次完成
3. （可选）清理感染植物
4. 运行 main.py
5. 等待仙人掌排序完成
```

#### 注意
```
⚠️ 感染状态会保留
⚠️ 可能影响正常产量
⚠️ 建议清理后再切换
```

---

## 📊 性能对比

### CPU 使用

| 模式 | CPU 使用 | 说明 |
|------|---------|------|
| main.py | 中等 | 排序需要计算 |
| f3.py | 低 | 直接采收 |

---

### 内存使用

| 模式 | 内存使用 | 说明 |
|------|---------|------|
| main.py | 中等 | ID 追踪字典 |
| f3.py | 低 | 无追踪 |

---

### 执行速度

| 模式 | 每轮时间 | 说明 |
|------|---------|------|
| main.py | ~10 分钟 | 包含排序 |
| f3.py | ~5 分钟 | 无排序 |

**f3.py 更快** ✅

---

## 🎉 总结

### main.py（正常模式）
```
✅ 极限单次产量
✅ n² 收益
✅ 适合资源积累
❌ 采收频率低
❌ 不产生 Weird_Substance
```

**推荐场景：** 常规发展、资源积累

---

### f3.py（怪异物质模式）
```
✅ 持续 Weird_Substance 产出
✅ 高采收频率
✅ 执行速度快
❌ 单次产量低
❌ 需要大量肥料
```

**推荐场景：** 迷宫种植、感染实验

---

## 💡 最佳实践

### 混合策略
```
1. 使用 main.py 积累基础资源
2. 定期切换到 f3.py 收集 Weird_Substance
3. 根据需求灵活切换
```

### 资源管理
```
1. 确保水资源充足（两种模式都需要）
2. 升级肥料（f3.py 必需）
3. 监控库存，及时调整
```

---

**选择适合您的策略，开始高效生产！** 🚀✨

