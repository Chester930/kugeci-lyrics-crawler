# 🗺️ 新農場布局總結

## 📐 布局變更

### 舊布局（22×22）：
```
┌────────┬──────────┬────────┐
│ 南瓜6×6│ 混合6×10 │ 南瓜6×6│
├────────┼──────────┼────────┤
│ 混合6×10│仙人掌10×10│混合6×10│
├────────┼──────────┼────────┤
│ 南瓜6×6│ 混合6×10 │ 南瓜6×6│
└────────┴──────────┴────────┘
```

### 新布局（22×22）：
```
┌──────────────────┬──────────┐
│                  │          │
│                  │          │
│   仙人掌區       │          │
│   16×16          │  向日葵  │
│   (256格)        │   區域   │
│                  │          │
│                  │          │
│                  │          │
├──────────────────┤          │
│                  │          │
│    向日葵區域    │          │
│                  │          │
└──────────────────┴──────────┘
```

---

## 🎯 區域定義

### 仙人掌區（16×16 = 256格）
```python
def is_cactus_zone(x, y):
    return x < 16 and y < 16

座標範圍：
- X: 0 - 15
- Y: 0 - 15
- 位置：左下角
```

### 向日葵區（剩餘區域）
```python
def is_sunflower_zone(x, y):
    return not is_cactus_zone(x, y)

包含：
- 右側 6×22 區域（132格）
- 上方 16×6 區域（96格）
- 總計：228格
```

---

## 🌵 仙人掌區特性

### 面積增加
- 舊：10×10 = 100格
- 新：16×16 = 256格
- 增加：156格（+156%）

### 排序範圍
```python
# 橫向排序
for x in range(0, 16):  # 0-15
    for y in range(0, 16):  # 0-15

# 縱向排序
for y in range(0, 16):  # 0-15
    for x in range(0, 16):  # 0-15
```

### 採收位置
- 右上角：(15, 15)
- 連鎖採收：256² = 65,536 仙人掌！

---

## 🌻 向日葵區特性

### 面積
- 總面積：228格
- 分布：L型包圍仙人掌區

### 處理邏輯
```python
if status['is_sunflower_zone']:
    # 1. 移除死南瓜
    # 2. 清理草地並翻土
    # 3. 收穫成熟向日葵
    # 4. 補種向日葵
    # 5. 中等水分需求（< 0.5）
```

---

## 📊 收益對比

### 仙人掌收益
| 項目 | 舊布局 | 新布局 | 增長 |
|------|--------|--------|------|
| 面積 | 100格 | 256格 | +156% |
| 連鎖收益 | 100² = 10,000 | 256² = 65,536 | +555% |

### 向日葵收益
| 項目 | 舊布局 | 新布局 | 變化 |
|------|--------|--------|------|
| 面積 | 6格 | 228格 | +3700% |
| 產量 | 極少 | 大量 | 顯著增加 |

---

## 🔧 主要變更

### 1. 區域定義
```python
✅ is_cactus_zone(x, y)   # 16×16 左下角
✅ is_sunflower_zone(x, y) # 其他區域
❌ is_pumpkin_zone(x, y)   # 已廢棄
❌ is_mixed_zone(x, y)     # 已廢棄
❌ is_carrot_zone(x, y)    # 已廢棄
```

### 2. 處理邏輯
```python
✅ 向日葵區處理
✅ 仙人掌區處理
❌ 南瓜區處理（已移除）
❌ 混合區處理（已移除）
```

### 3. 排序函數
```python
✅ safe_cactus_sorting_horizontal()  # 0-15 範圍
✅ safe_cactus_sorting_vertical()    # 0-15 範圍
```

### 4. 恐龍模式
```python
enable_dinosaur_mode = False  # 預設關閉
# 如需啟用，設為 True
```

---

## 🚀 優勢

### 1. 仙人掌產量大增
- 256格仙人掌區
- 連鎖收益：65,536/次
- 是舊布局的 6.5 倍！

### 2. 簡化管理
- 只有兩種區域
- 沒有複雜的混合種植
- 邏輯更清晰

### 3. 向日葵穩定產出
- 228格向日葵區
- 持續提供資源
- 無需複雜管理

---

## ⚙️ 使用建議

### 初期設置
1. 執行程式，讓無人機種植
2. 仙人掌區會逐漸填滿
3. 向日葵區會持續收穫

### 仙人掌管理
1. 程式會自動排序（每輪7次循環）
2. 排序完成後自動採收
3. 獲得 256² = 65,536 仙人掌

### 恐龍模式（可選）
1. 設置 `enable_dinosaur_mode = True`
2. 仙人掌達到 10,000 時自動觸發
3. 轉換為骨頭（n² 收益）

---

## 📝 注意事項

### 仙人掌排序
- 需要時間讓仙人掌成熟
- 排序需要多輪才能完成
- 完成後會變綠色

### 向日葵區
- 會自動清理死南瓜
- 會自動除草翻土
- 持續補種向日葵

### 水分管理
- 仙人掌：高需求（< 0.75）
- 向日葵：中需求（< 0.5）

---

**新布局已完成！仙人掌產量提升 6.5 倍！** 🌵✨

