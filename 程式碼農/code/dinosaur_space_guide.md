# 🦖 恐龍模式空間需求指南

## 📊 **基本計算**

### 農場規格：22x22
- **總格子數**：484 格
- **恐龍佔用**：尾巴長度 + 1（頭）

### 空間計算公式
```
可用空間 = 總格子數 - 植物數量
恐龍需求 = 尾巴長度 + 1
```

---

## 🎯 **推薦設定**

### 📋 **標準對照表**

| 尾巴長度 | 佔用格子 | 收益（骨頭） | 農場使用率 | 推薦場景 |
|---------|---------|-------------|-----------|---------|
| 50 | 51 | 2,500 | 10.5% | 🟢 植物很多時 |
| 100 | 101 | 10,000 | 20.9% | 🟢 正常使用 |
| 150 | 151 | 22,500 | 31.2% | 🟡 需要較多空地 |
| 200 | 201 | 40,000 | 41.5% | 🟡 採收後執行 |
| 250 | 251 | 62,500 | 51.9% | 🔴 需要大量空地 |
| 300 | 301 | 90,000 | 62.2% | 🔴 幾乎清空農場 |
| 400 | 401 | 160,000 | 82.9% | 🔴 必須清空農場 |
| 483 | 484 | 233,289 | 100% | ⚫ 完全填滿（危險） |

---

## 🎮 **使用場景**

### 場景 1：正常農場運作中
```
農場狀態：
- 南瓜區：36 格（3個 6x6）
- 仙人掌區：0 格（剛採收）
- 向日葵區：36 格（1個 6x6）
- 混合區：~60 格（部分成熟）
- 總植物：~132 格
- 空地：~352 格

推薦設定：
dinosaur_target_tail_length = 100-150
```
✅ **安全，有足夠空間**

---

### 場景 2：仙人掌剛採收後
```
農場狀態：
- 南瓜區：36 格
- 仙人掌區：0 格（剛採收，全空）
- 向日葵區：36 格
- 混合區：~60 格
- 總植物：~132 格
- 空地：~352 格（包含仙人掌區 100 格）

推薦設定：
dinosaur_target_tail_length = 200
```
✅ **最佳時機！空地最多**

---

### 場景 3：所有作物都成熟
```
農場狀態：
- 南瓜區：36 格（滿）
- 仙人掌區：100 格（滿）
- 向日葵區：36 格（滿）
- 混合區：120 格（滿）
- 總植物：~292 格
- 空地：~192 格

推薦設定：
dinosaur_target_tail_length = 50-100
```
⚠️ **空地有限，建議先採收**

---

### 場景 4：想要最大收益
```
農場狀態：
- 清空所有區域
- 總植物：0 格
- 空地：484 格

推薦設定：
dinosaur_target_tail_length = 400-483
```
🔴 **極限挑戰！需完全清空農場**

---

## 📈 **收益 vs 風險分析**

### 🟢 **低風險（50-100）**
- **收益**：2,500 - 10,000 骨頭
- **空間需求**：10% - 21%
- **適用**：隨時可執行
- **優點**：安全穩定
- **缺點**：收益較低

### 🟡 **中風險（100-200）**
- **收益**：10,000 - 40,000 骨頭
- **空間需求**：21% - 42%
- **適用**：採收後執行
- **優點**：收益平衡
- **缺點**：需要較多空地

### 🔴 **高風險（200-400）**
- **收益**：40,000 - 160,000 骨頭
- **空間需求**：42% - 83%
- **適用**：農場清空後
- **優點**：收益極高
- **缺點**：可能堵住自己

### ⚫ **極限（400+）**
- **收益**：160,000+ 骨頭
- **空間需求**：83%+
- **適用**：完全清空農場
- **優點**：最大收益
- **缺點**：非常危險，容易卡住

---

## 🔍 **如何判斷當前適合的長度？**

### 方法 1：執行測試程式
```python
python test_dinosaur_with_plants.py
```
**輸出**：
- 當前空地數量
- 建議尾巴長度
- 預期收益

### 方法 2：手動計算
```
1. 估算植物數量
2. 空地 = 484 - 植物數
3. 建議長度 = 空地 × 0.5 至 0.8
```

### 方法 3：查看區域狀態
| 區域狀態 | 建議長度 |
|---------|---------|
| 仙人掌剛採收 + 其他正常 | 150-200 |
| 所有區域正常運作 | 100-150 |
| 多數作物成熟 | 50-100 |
| 農場剛清空 | 300-400 |

---

## ⚙️ **參數設定建議**

### 保守策略（推薦新手）
```python
enable_dinosaur_mode = True
dinosaur_mode_trigger_cactus = 10000  # 高門檻
dinosaur_target_tail_length = 100     # 安全長度
```
- ✅ 風險低
- ✅ 穩定收益 10,000 骨頭
- ✅ 隨時可執行

### 平衡策略（推薦）
```python
enable_dinosaur_mode = True
dinosaur_mode_trigger_cactus = 10000
dinosaur_target_tail_length = 150     # 平衡長度
```
- ✅ 風險適中
- ✅ 良好收益 22,500 骨頭
- ⚠️ 最好在採收後執行

### 激進策略（高級）
```python
enable_dinosaur_mode = True
dinosaur_mode_trigger_cactus = 10000
dinosaur_target_tail_length = 200     # 高收益長度
```
- ⚠️ 風險較高
- ✅ 高收益 40,000 骨頭
- ⚠️ 必須在採收後執行

### 極限策略（專家）
```python
enable_dinosaur_mode = False          # 手動控制
# 手動清空農場後執行 strategy_dinosaur_mode.py
# 設定 target_tail_length = 400
```
- 🔴 高風險
- ✅ 極高收益 160,000 骨頭
- 🔴 需要完全清空農場

---

## 🎯 **最佳實踐**

### ✅ **DO（建議）**
1. 在仙人掌採收後執行（空地最多）
2. 設定合理的門檻（10,000 仙人掌）
3. 使用測試程式評估當前空間
4. 從較小的長度開始測試（100）
5. 逐步增加到最適長度

### ❌ **DON'T（避免）**
1. 在農場滿植物時執行長尾巴
2. 設定超過空地數量的長度
3. 不評估就使用極限長度
4. 在恐龍模式中途切換到其他帽子

---

## 📊 **實際案例**

### 案例 1：標準運作
```
設定：
- dinosaur_target_tail_length = 100
- 觸發時機：仙人掌採收後

結果：
- 空地：352 格
- 需求：101 格
- 餘裕：251 格
- 狀態：✅ 成功
- 收益：10,000 骨頭
```

### 案例 2：高收益
```
設定：
- dinosaur_target_tail_length = 200
- 觸發時機：仙人掌採收後

結果：
- 空地：352 格
- 需求：201 格
- 餘裕：151 格
- 狀態：✅ 成功
- 收益：40,000 骨頭
```

### 案例 3：失敗案例
```
設定：
- dinosaur_target_tail_length = 400
- 觸發時機：農場有大量植物

結果：
- 空地：192 格
- 需求：401 格
- 餘裕：-209 格
- 狀態：❌ 卡住
- 收益：部分收益（被尾巴困住）
```

---

## 🎉 **快速參考**

### 我該設定多少？

| 您的目標 | 推薦設定 |
|---------|---------|
| 穩定安全 | 100 |
| 平衡收益 | 150 |
| 高收益 | 200 |
| 極限挑戰 | 400 |

### 快速決策樹
```
Q: 仙人掌剛採收嗎？
├─ 是 → 150-200 ✅
└─ 否
    └─ Q: 農場植物多嗎？
        ├─ 多 → 50-100 ⚠️
        └─ 少 → 100-150 ✅
```

---

**執行測試程式來獲得精確建議：**
```bash
python test_dinosaur_space_calc.py
python test_dinosaur_with_plants.py
```

