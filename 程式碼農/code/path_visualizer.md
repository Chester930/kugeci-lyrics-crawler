# 恐龍模式路徑策略對比

## 22×22 地圖路徑方案

### 1. S型路徑（當前使用）
```
移動順序：縱向S型

列0: ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ (向北21步)
     →                            (向東1步)
列1: ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ (向南21步)
     →                            (向東1步)
列2: ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ (向北21步)
...

優點：簡單，易實現
缺點：尾巴會阻擋路徑，約400個蘋果後會卡住
實際長度：350-400
收益：122,500 - 160,000 骨頭
```

---

### 2. 螺旋式路徑（推薦）
```
移動順序：由外向內

外層：→→→→→→→→→→→→→→→→→→→→→→ (22步)
      ↑                        ↓
      ↑ 內層螺旋...             ↓ (21步)
      ↑                        ↓
      ←←←←←←←←←←←←←←←←←←←←←← (22步)

優點：尾巴在外圍，不阻擋內部
缺點：轉角處需要精確控制
實際長度：470+
收益：220,000+ 骨頭
```

**實現代碼：** `test_apple_spiral.py`

---

### 3. 塊狀填充路徑
```
移動順序：分塊填充

塊(0,0): 填充4×4
塊(0,1): 填充4×4
塊(0,2): 填充4×4
...

每個塊內用小S型填充

[塊0,0] [塊0,1] [塊0,2] [塊0,3] [塊0,4]
[塊1,0] [塊1,1] [塊1,2] [塊1,3] [塊1,4]
[塊2,0] [塊2,1] [塊2,2] [塊2,3] [塊2,4]
...

優點：局部性好，不會長距離跨越
缺點：塊之間連接可能有問題
實際長度：450+
收益：200,000+ 骨頭
```

**實現代碼：** `test_apple_hilbert.py`

---

### 4. 對角線填充
```
移動順序：對角線擴散

對角線0: (0,0)
對角線1: (0,1) (1,0)
對角線2: (0,2) (1,1) (2,0)
對角線3: (0,3) (1,2) (2,1) (3,0)
...

視覺效果：
0
1 2
3 4 5
6 7 8 9
...

優點：尾巴在後方對角線，不阻擋前方
缺點：需要額外移動來對齊位置
實際長度：450+
收益：200,000+ 骨頭
```

**實現代碼：** `test_apple_diagonal.py`

---

## 理論極限

### 22×22 地圖
- 總格子數：484
- 理論最大：483（留一格給無人機）
- 483² = 233,289 骨頭

### 實際限制
- S型：~400 個蘋果
- 螺旋：~470 個蘋果
- 其他優化方案：~460 個蘋果

---

## 測試建議

### 步驟1：測試螺旋路徑
```bash
執行 test_apple_spiral.py
目標：470 個蘋果
預期：220,000+ 骨頭
```

### 步驟2：比較收益
```
S型（當前）：350² = 122,500
螺旋式：470² = 220,900
提升：78% ✅
```

### 步驟3：優化調整
- 觀察實際收集數量
- 調整目標長度
- 優化轉彎邏輯

---

## 您的路徑方案？

如果您有更好的想法，歡迎分享！
可能的方向：
- 分治策略（分區填充）
- 動態路徑規劃
- 利用 measure() 預測
- 其他創新方案？

